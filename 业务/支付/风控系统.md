

# WooshPay 风控系统

## 早期硬编码

​	交易上商户账号维度上的卡支付有对风控交易数量，交易金额的限制，退款上有退款次数的限制的需求；在人力资源缺乏且需满足快速上线的需求这样的情况下采用硬编码的模式，在配置中心配置商户账号对应风控规则参数。

​	硬编码问题：硬编码的每条风控规则都依赖技术人员的开发，业务人员无法参数，不适合大量的风控规则维护。新增规则可以需要新增代码，发布生产，经过开发、测试时间跨度较长，而且企业规模小，没有专业测试人员，严谨的测试流程，每发一次生产都有影响正常交易的风险。

## 规则引擎的选型

​		后来随着交易系统量越来越大，商家越来越多，硬编码的形式已经不能满足大量新规则要快速上线和频繁改动的需求。需要开发一套可以灵活快速配置新规则的系统，最终目标是不需要开发人员频繁改动代码，业务人员能够自己配置规则。

​		选型考虑因素：

​			1、是否满足规则可视化、业务人员能快速上手配置

​			2、是否成熟，经过市场的考验，有没有大型企业使用过

​			3、接入开发是否复杂繁琐

​			4、是否还有团队在维护，出现bug有没有人修复

​		开始了解早期较成熟的Drools，虽然有大企业使用过，但是Drools的规则表达式编写有门槛，接入叫较复杂，提供的图形化界面简陋，无法满足业务人员能快速上手配置的需求。

​		后来在Gitlab查找了一些较热门的规则引擎，

​		

## 使用QlExpress



